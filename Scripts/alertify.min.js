!function(e,t){"use strict";var n,r=e.document;n=function(){var n,i,s,o,u,f,l,c,h,p,v,m,g,y={},w={},E=!1,S={ENTER:13,ESC:27,SPACE:32},x=[];return w={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',ok:'<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',cancel:'<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},g=function(){var e,n,i=!1,s=r.createElement("fakeelement"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(e in o)if(s.style[e]!==t){n=o[e],i=!0;break}return{type:n,supported:i}},n=function(e){return r.getElementById(e)},y={labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok",transition:t,addListeners:function(e){var t,n,a,f,l,c="undefined"!=typeof s,h="undefined"!=typeof i,p="undefined"!=typeof m,v="",g=this;t=function(t){return"undefined"!=typeof t.preventDefault&&t.preventDefault(),a(t),"undefined"!=typeof m&&(v=m.value),"function"==typeof e&&("undefined"!=typeof m?e(!0,v):e(!0)),!1},n=function(t){return"undefined"!=typeof t.preventDefault&&t.preventDefault(),a(t),"function"==typeof e&&e(!1),!1},a=function(){g.hide(),g.unbind(r.body,"keyup",f),g.unbind(o,"focus",l),c&&g.unbind(s,"click",t),h&&g.unbind(i,"click",n)},f=function(e){var r=e.keyCode;(r===S.SPACE&&!p||p&&r===S.ENTER)&&t(e),r===S.ESC&&h&&n(e)},l=function(){p?m.focus():!h||g.buttonReverse?s.focus():i.focus()},this.bind(o,"focus",l),this.bind(u,"focus",l),c&&this.bind(s,"click",t),h&&this.bind(i,"click",n),this.bind(r.body,"keyup",f),this.transition.supported||this.setFocus()},bind:function(e,t,n){"function"==typeof e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},handleErrors:function(){if("undefined"!=typeof e.onerror){var t=this;return e.onerror=function(e,n,r){t.error("["+e+" on line "+r+" of "+n+"]",0)},!0}return!1},appendButtons:function(e,t){return this.buttonReverse?t+e:e+t},build:function(e){var t="",n=e.type,r=e.message,i=e.cssClass||"";switch(t+='<div class="alertify-dialog">',t+='<a id="alertify-resetFocusBack" class="alertify-resetFocus" href="#">Reset Focus</a>',"none"===y.buttonFocus&&(t+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'),"prompt"===n&&(t+='<div id="alertify-form">'),t+='<article class="alertify-inner">',t+=w.message.replace("{{message}}",r),"prompt"===n&&(t+=w.input),t+=w.buttons.holder,t+="</article>","prompt"===n&&(t+="</div>"),t+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>',t+="</div>",n){case"confirm":t=t.replace("{{buttons}}",this.appendButtons(w.buttons.cancel,w.buttons.ok)),t=t.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":t=t.replace("{{buttons}}",this.appendButtons(w.buttons.cancel,w.buttons.submit)),t=t.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":t=t.replace("{{buttons}}",w.buttons.ok),t=t.replace("{{ok}}",this.labels.ok)}return h.className="alertify alertify-"+n+" "+i,c.className="alertify-cover",t},close:function(e,t){var n,r,i=t&&!isNaN(t)?+t:this.delay,s=this;this.bind(e,"click",function(){n(e)}),r=function(e){e.stopPropagation(),s.unbind(this,s.transition.type,r),p.removeChild(this),p.hasChildNodes()||(p.className+=" alertify-logs-hidden")},n=function(e){"undefined"!=typeof e&&e.parentNode===p&&(s.transition.supported?(s.bind(e,s.transition.type,r),e.className+=" alertify-log-hide"):(p.removeChild(e),p.hasChildNodes()||(p.className+=" alertify-logs-hidden")))},0!==t&&setTimeout(function(){n(e)},i)},dialog:function(e,t,n,i,s){l=r.activeElement;var o=function(){p&&null!==p.scrollTop&&c&&null!==c.scrollTop||o()};if("string"!=typeof e)throw new Error("message must be a string");if("string"!=typeof t)throw new Error("type must be a string");if("undefined"!=typeof n&&"function"!=typeof n)throw new Error("fn must be a function");return this.init(),o(),x.push({type:t,message:e,callback:n,placeholder:i,cssClass:s}),E||this.setup(),this},extend:function(e){if("string"!=typeof e)throw new Error("extend method must have exactly one paramter");return function(t,n){return this.log(t,e,n),this}},hide:function(){var e,t=this;x.splice(0,1),x.length>0?this.setup(!0):(E=!1,e=function(n){n.stopPropagation(),t.unbind(h,t.transition.type,e)},this.transition.supported?(this.bind(h,this.transition.type,e),h.className="alertify alertify-hide alertify-hidden"):h.className="alertify alertify-hide alertify-hidden alertify-isHidden",c.className="alertify-cover alertify-cover-hidden",l.focus())},init:function(){r.createElement("nav"),r.createElement("article"),r.createElement("section"),null==n("alertify-cover")&&(c=r.createElement("div"),c.setAttribute("id","alertify-cover"),c.className="alertify-cover alertify-cover-hidden",r.body.appendChild(c)),null==n("alertify")&&(E=!1,x=[],h=r.createElement("section"),h.setAttribute("id","alertify"),h.className="alertify alertify-hidden",r.body.appendChild(h)),null==n("alertify-logs")&&(p=r.createElement("section"),p.setAttribute("id","alertify-logs"),p.className="alertify-logs alertify-logs-hidden",r.body.appendChild(p)),r.body.setAttribute("tabindex","0"),this.transition=g()},log:function(e,t,n){var r=function(){p&&null!==p.scrollTop||r()};return this.init(),r(),p.className="alertify-logs",this.notify(e,t,n),this},notify:function(e,t,n){var i=r.createElement("article");i.className="alertify-log"+("string"==typeof t&&""!==t?" alertify-log-"+t:""),i.innerHTML=e,p.appendChild(i),setTimeout(function(){i.className=i.className+" alertify-log-show"},50),this.close(i,n)},set:function(e){var t;if("object"!=typeof e&&e instanceof Array)throw new Error("args must be an object");for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},setFocus:function(){m?(m.focus(),m.select()):f.focus()},setup:function(e){var r,a=x[0],l=this;E=!0,r=function(e){e.stopPropagation(),l.setFocus(),l.unbind(h,l.transition.type,r)},this.transition.supported&&!e&&this.bind(h,this.transition.type,r),h.innerHTML=this.build(a),o=n("alertify-resetFocus"),u=n("alertify-resetFocusBack"),s=n("alertify-ok")||t,i=n("alertify-cancel")||t,f="cancel"===y.buttonFocus?i:"none"===y.buttonFocus?n("alertify-noneFocus"):s,m=n("alertify-text")||t,v=n("alertify-form")||t,"string"==typeof a.placeholder&&""!==a.placeholder&&(m.value=a.placeholder),e&&this.setFocus(),this.addListeners(a.callback)},unbind:function(e,t,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}},{alert:function(e,t,n){return y.dialog(e,"alert",t,"",n),this},confirm:function(e,t,n){return y.dialog(e,"confirm",t,"",n),this},extend:y.extend,init:y.init,log:function(e,t,n){return y.log(e,t,n),this},prompt:function(e,t,n,r){return y.dialog(e,"prompt",t,n,r),this},success:function(e,t){return y.log(e,"success",t),this},error:function(e,t){return y.log(e,"error",t),this},set:function(e){y.set(e)},labels:y.labels,debug:y.handleErrors}},"function"==typeof define?define([],function(){return new n}):"undefined"==typeof e.alertify&&(e.alertify=new n)}(this)